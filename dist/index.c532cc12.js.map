{"mappings":"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","sources":["js/cards.js"],"sourcesContent":["const handPositions = document.querySelectorAll(\".hand\");\nconst startgameButton = document.querySelector(\"button\");\nconst boardTiles = document.querySelectorAll(\".board .row .tile\");\nlet selected = 0;\nhandPositions.forEach(element => {\n    element.addEventListener(\"click\", function(){\n        handPositions[selected].classList.remove(\"selected\");\n        selected = parseInt(this.id);\n        this.classList.add(\"selected\");\n    })\n});\nboardTiles.forEach(element => {\n    element.addEventListener(\"click\", function(){\n        let x = parseInt(element.getAttribute(\"x\"))\n        let y = parseInt(element.getAttribute(\"y\"));\n        if(validatePlacing(x, y)){\n        element.innerHTML = \"<img src=\\\"img/\"+ hand[selected].Name +\".jpg\\\"/>\"\n        board[y][x] = hand[selected];\n        draw(selected);\n        if(checkWin()){\n            alert(\"You win!!!\");\n        }\n    }\n    })\n});\nlet cards;\nlet board;\nlet hand;\n\nstartgameButton.onclick = function() {\n    startGame();\n}\n\nfunction validatePlacing(x, y){\n    if(board[y][x] != null)return false;\n    if(compatibleTile(x, y - 1, \"up\", \"down\")) return false;\n    if(compatibleTile(x, y + 1, \"down\", \"up\")) return false;\n    if(compatibleTile(x + 1, y, \"right\", \"left\")) return false;\n    if(compatibleTile(x - 1, y, \"left\", \"right\")) return false;\n    return true;\n}\n\nfunction compatibleTile(x, y, Attributehand, Attributeboard){\n    console.log(y);\n    if((x<0 || x>3) || (y < 0 || y > 2)) return false;\n    if(board[y][x] == null) return false;\n    if(board[y][x][Attributeboard] == hand[selected][Attributehand]) return false;\n    return true;\n}\n\nfunction checkWin(){\n    for(let i=0; i<board.length; i++){\n        for(let e=0; e<board[0].length; e++){\n            if(board[i][e] === null) return false;\n        }\n    }\n    return true;\n}\n\nfunction loadJson(){\n    fetch(\"../json/cards.json\")\n        .then(response => {\n            if (response.ok) return response.json();\n            else {\n                alert(\"No s'ha pogut completar la cÃ rrega. Error \" + response.status)\n            }\n        })\n        .then(data => {\n            cards = data[\"cards\"];\n        });\n        \n}\nfunction startGame(){\n    board = [[null, null, null, null], [null, null, null, null], [null, null, null, null]];\n    hand = [null, null, null];\n    boardTiles.forEach(element => {\n        element.innerHTML = \"\";\n    });\n    draw(0);\n    draw(1);\n    draw(2);\n}\n\nfunction draw(id){\n    let value = getRandomCardValue();\n    hand[id] = cards[value];\n    handPositions[id].innerHTML = \"<img src=\\\"img/\"+ cards[value].Name +\".jpg\\\"/>\"\n}\n\nfunction getRandomCardValue(){\n    let value = Math.round(Math.random() * 10);\n    return value;\n}\nloadJson();\n"],"names":[],"version":3,"file":"index.c532cc12.js.map","sourceRoot":"/__parcel_source_root/"}