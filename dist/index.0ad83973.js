const handPositions=document.querySelectorAll(".hand"),startgameButton=document.querySelector("button"),boardTiles=document.querySelectorAll(".board .row .tile");let cards,board,hand,selected=0;function validatePlacing(e,n){return null==board[n][e]&&(!compatibleTile(e,n-1,"up","down")&&(!compatibleTile(e,n+1,"down","up")&&(!compatibleTile(e+1,n,"right","left")&&!compatibleTile(e-1,n,"left","right"))))}function compatibleTile(e,n,t,l){return console.log(n),!(e<0||e>3||n<0||n>2)&&(null!=board[n][e]&&board[n][e][l]!=hand[selected][t])}function checkWin(){for(let e=0;e<board.length;e++)for(let n=0;n<board[0].length;n++)if(null===board[e][n])return!1;return!0}function loadJson(){fetch("../json/cards.json").then((e=>{if(e.ok)return e.json();alert("No s'ha pogut completar la cÃ rrega. Error "+e.status)})).then((e=>{cards=e.cards}))}function startGame(){board=[[null,null,null,null],[null,null,null,null],[null,null,null,null]],hand=[null,null,null],boardTiles.forEach((e=>{e.innerHTML=""})),draw(0),draw(1),draw(2)}function draw(e){let n=getRandomCardValue();hand[e]=cards[n],handPositions[e].innerHTML='<img src="img/'+cards[n].Name+'.jpg"/>'}function getRandomCardValue(){return Math.round(10*Math.random())}handPositions.forEach((e=>{e.addEventListener("click",(function(){handPositions[selected].classList.remove("selected"),selected=parseInt(this.id),this.classList.add("selected")}))})),boardTiles.forEach((e=>{e.addEventListener("click",(function(){let n=parseInt(e.getAttribute("x")),t=parseInt(e.getAttribute("y"));validatePlacing(n,t)&&(e.innerHTML='<img src="img/'+hand[selected].Name+'.jpg"/>',board[t][n]=hand[selected],draw(selected),checkWin()&&alert("You win!!!"))}))})),startgameButton.onclick=function(){startGame()},loadJson();
//# sourceMappingURL=index.0ad83973.js.map
